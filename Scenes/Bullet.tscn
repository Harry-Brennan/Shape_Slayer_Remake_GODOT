[gd_scene load_steps=5 format=3 uid="uid://b6kqxwlgk852f"]

[ext_resource type="Script" uid="uid://buvcj8n4snk1y" path="res://Scripts/Combat/Bullets/Bullet.gd" id="1_wtj6k"]
[ext_resource type="Script" uid="uid://bxvnsi144darq" path="res://Scripts/Collision/CollisionMatcher.gd" id="2_q0wm1"]
[ext_resource type="Script" uid="uid://cqwfpoeuagqdg" path="res://Scripts/Combat/Bullets/Bullet_Movement.gd" id="3_aech6"]
[ext_resource type="Script" uid="uid://brot81lsfnn7l" path="res://Scripts/Collision/Hitbox.gd" id="4_lk63g"]

[node name="Bullet" type="Area2D" node_paths=PackedStringArray("hitbox") groups=["Bullets"]]
collision_layer = 4
collision_mask = 8
script = ExtResource("1_wtj6k")
hitbox = NodePath("Bullet Hitbox")

[node name="Collision_Matcher" type="Node" parent="." node_paths=PackedStringArray("polygon_2d", "collision_polygons_to_update")]
script = ExtResource("2_q0wm1")
polygon_2d = NodePath("../Bullet Display Shape")
collision_polygons_to_update = [NodePath("../BulletCollision"), NodePath("../Bullet Hitbox/Bullet Hitbox Collision")]
collision_matching_multiplier = 1.1

[node name="Bullet_Movement" type="Node" parent="."]
script = ExtResource("3_aech6")

[node name="Bullet Display Shape" type="Polygon2D" parent="."]
polygon = PackedVector2Array(0, -10, 27, 0, 0, 10, -10, 0)

[node name="BulletCollision" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(0, -11, 29.7, 0, 0, 11, -11, 0)

[node name="Bullet Hitbox" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 0
script = ExtResource("4_lk63g")
damage = 50

[node name="Bullet Hitbox Collision" type="CollisionPolygon2D" parent="Bullet Hitbox"]
polygon = PackedVector2Array(0, -11, 29.7, 0, 0, 11, -11, 0)

[connection signal="area_entered" from="." to="." method="_on_area_entered"]
