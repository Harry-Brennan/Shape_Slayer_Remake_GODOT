[gd_scene load_steps=9 format=3 uid="uid://dm3fb7q6w4m3e"]

[ext_resource type="Script" uid="uid://u2l8btuv8ovd" path="res://Scripts/Player/Player_Controller.gd" id="1_5oju5"]
[ext_resource type="Script" uid="uid://bxvnsi144darq" path="res://Scripts/Collision/CollisionMatcher.gd" id="2_ggnwl"]
[ext_resource type="Script" uid="uid://csqyj5cmgj58q" path="res://Scripts/Combat/Bullets/Shoot.gd" id="3_7x1kn"]
[ext_resource type="Script" uid="uid://c3d2myj2pwqfq" path="res://Scripts/Combat/Health.gd" id="4_8omlf"]
[ext_resource type="Script" uid="uid://brot81lsfnn7l" path="res://Scripts/Collision/Hitbox.gd" id="5_hvjwb"]
[ext_resource type="Script" uid="uid://ctxr2xnlgd0nt" path="res://Scripts/Combat/Dash.gd" id="6_umdk7"]
[ext_resource type="Script" uid="uid://c6g0cur5w4w7e" path="res://Scripts/Collision/Hurtbox.gd" id="7_ehska"]

[sub_resource type="Curve" id="Curve_hdsdm"]
_limits = [0.05, 1.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 2.17473, 0, 0, Vector2(0.35, 0.5), 0.0, 15.0, 0, 0, Vector2(0.5, 1), 0.0, 0.0, 0, 0]
point_count = 3

[node name="Player Body" type="CharacterBody2D" groups=["Player"]]
z_index = 5
collision_mask = 8
motion_mode = 1
script = ExtResource("1_5oju5")
speed = 250.0
curve = SubResource("Curve_hdsdm")

[node name="Health" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("4_8omlf")
is_player = true

[node name="Dash" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("6_umdk7")

[node name="Collision_Matcher" type="Node" parent="." node_paths=PackedStringArray("polygon_2d", "collision_polygons_to_update")]
script = ExtResource("2_ggnwl")
polygon_2d = NodePath("../Player Shape")
collision_polygons_to_update = [NodePath("../Player Collision"), NodePath("../HitBox/Hitbox Collision"), NodePath("../HurtBox/Hurtbox Collision")]

[node name="Shoot" type="Node2D" parent="."]
unique_name_in_owner = true
position = Vector2(35, 0)
script = ExtResource("3_7x1kn")

[node name="Player Collision" type="CollisionPolygon2D" parent="."]
rotation = 1.5708
polygon = PackedVector2Array(0, 0, 30, 45, 0, -45, -30, 45)

[node name="Player Shape" type="Polygon2D" parent="."]
rotation = 1.5708
polygon = PackedVector2Array(0, 0, 30, 45, 0, -45, -30, 45)

[node name="HitBox" type="Area2D" parent="."]
rotation = 1.5708
collision_mask = 0
script = ExtResource("5_hvjwb")

[node name="Hitbox Collision" type="CollisionPolygon2D" parent="HitBox"]
polygon = PackedVector2Array(0, 0, 30, 45, 0, -45, -30, 45)

[node name="HurtBox" type="Area2D" parent="."]
rotation = 1.5708
collision_layer = 0
collision_mask = 18
script = ExtResource("7_ehska")

[node name="Hurtbox Collision" type="CollisionPolygon2D" parent="HurtBox"]
polygon = PackedVector2Array(0, 0, 30, 45, 0, -45, -30, 45)
